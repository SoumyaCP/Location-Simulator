<!DOCTYPE html>
<html lang="en">

<head>
    <title>Combined Page</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .image-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #b {
            background-color: black;
        }

        #header1 {
            color: white;
            text-align: center;
            font-size: 2.2em;
            font-weight: bold;
            margin-top: 20px;
        }

        #header2 {
            color: darkgoldenrod;
            text-align: center;
            font-family: garamond;
            font-size: 40px;
        }

        #italic-container {
            text-align: center;
            margin-bottom: 10px;
        }

        #italic-text {
            font-style: italic;
            font-size: 1.6em;
            color: white;
        }

        #tasting-experience {
            font-size: 2.8em;
            line-height: 1.2;
            color: white;
        }

        #c {
            position: absolute;
            top: 0;
            right: 0;
            padding: 15px;
            border: 4px solid white;
            border-radius: 20px;
            margin-top: 20px;
            cursor: pointer;
            font-size: 28px;
            color: white;
            text-decoration: none;
        }

        #button-container {
            margin-top: 20px;
        }

        #custom-button {
            background-color: #4c4faf;
            border: 2px solid white;
            border-radius: 20px;
            padding: 15px;
            cursor: pointer;
            font-size: 27px;
            color: white;
            text-decoration: none;
            font-family: sans-serif;
        }

        /* Styles for Leaky.html */
        .img {
            width: 100vw;
            height: 100vh;
            position: relative;
            background-image: url("leaky_image.png");
            background-size: cover;
        }

        .a1 {
            width: 100%;
            height: 100%;
            font-size: 30px;
            color: white;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.5);
        }

        #leaky-paragraph {
            opacity: 0;
            transition: opacity 2s;
        }

        #leaky-paragraph.show {
            opacity: 1;
        }

        /* Styles for Menu.html */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: black;
            color: white;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
        }

        .menu-heading {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        h1 {
            font-size: 50px;
            padding: 15px;
            border: 3px solid white;
            border-radius: 9px;
            color: white;
        }

        .image-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .image-row {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-bottom: 20px;
        }

        .image-item {
            margin: 10px;
            text-align: center;
            background-color: dark grey;
            border-radius: 8px;
            padding: 10px;
        }

        .image {
            width: 300px;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }

        .food-item {
            font-size: 25px;
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }

        .price {
            font-size: 22px;
            margin-bottom: 5px;
            color: white;
        }

        .description {
            font-size: 22px;
            color: white;
        }

        button {
            background-color: #4c4faf;
            color: white;
            border: none;
            padding: 25px 40px;
            border-radius: 9px;
            cursor: pointer;
            font-size: 30px;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
        }

        hr {
            width: 100%;
            margin-top: 5cm;
            border: 1px solid white;
        }

        .order-form {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .order-form label,
        .order-form input,
        .order-form button {
            margin: 10px;
        }

        /* Additional styles for input boxes */
        input {
            width: 50%;
            padding: 30px;
            box-sizing: border-box;
            font-size: 20px;
        }
    </style>
</head>

<body id="b">
    <!-- Restau.html Content -->
    <div id="header1"></div>
    <div id="header2"></div>
    <div id="container"></div>
    <div id="button-container"></div>
    <script type="text/babel">
        // Restau.html JavaScript Content
        function Header1() {
            return (
                <div>
                    <h1>WELCOME TO LEAKY CAULDRON</h1>
                </div>
            );
        }

        function Header2() {
            return (
                <div>
                    <p style={{ color: 'darkgoldenrod', fontStyle: 'italic' }}>Nestled in the magical corners of London, the Leaky Cauldron, a centuries-old wizarding pub, serves as a discreet gateway to Diagon Alley, welcoming witches and wizards</p>

                    <video width="1000" height="600" align="center" controls>
                        <source src="F:\web tech\project\leaky_video.mp4" type="video/mp4"></source>
                        Your browser does not support the video tag.
                    </video>
                </div>
            );
        }

        class Button extends React.Component {
            render() {
                return (
                    <div id="c">
                        <a href={this.props.button} style={{ color: 'white' }}>
                            About Us
                        </a>
                    </div>
                );
            }
        }

        class Results extends React.Component {
            render() {
                return (
                    <div>
                        <div id="italic-container">
                            <div id="italic-text">Leaky Cauldron offers u</div>
                        </div>
                        <h1 id="tasting-experience">the best tasting experience!</h1>
                        <Button {...this.props} />
                    </div>
                );
            }
        }

        class CustomButton extends React.Component {
            render() {
                return (
                    <div id="custom-button">
                        <a href={this.props.buttonLink} style={{ color: 'white' }}>
                            {this.props.buttonText}
                        </a>
                    </div>
                );
            }
        }

        ReactDOM.render(<Header1 />, document.getElementById("header1"));
        ReactDOM.render(<Header2 />, document.getElementById("header2"));
        ReactDOM.render(
            <div className="image-container">
                <Results button="http://127.0.0.1:5500/leaky.html" />
                <CustomButton buttonLink="http://127.0.0.1:5500/menu.html" buttonText="MENU" />
            </div>,
            document.querySelector("#container")
        );
    </script>

    <!-- Leaky.html Content -->
    <div class="img">
        <div class="a1">
            <h1>LEAKY CAULDRON</h1><br>
            <p id="leaky-paragraph">The Leaky Cauldron was built in the 1500s by Daisy Dodderidge.[3] The pub was there long before Charing Cross Road was even planned. Its true address is number one Diagon Alley, and it is believed to have been built along with the rest of the wizarding street. Created some two centuries before the wizarding world community made the joint decision to go into hiding, the Leaky Cauldron used to be visible to Muggle eyes.
                Located at 1 Diagon Alley,[1] The Leaky Cauldron was nested between a Muggle bookshop and a record store. Inside the pub, it was dark and shabby, with a bar and a number of tables in the shadows of the corners. In stark contrast to the grubby downstairs of the pub, there were some unexpectedly pleasant rooms upstairs where passing wizards and witches could stay for the night. These rooms were reached by way of a handsome wooden staircase, and contained comfortable beds, highly polished oak furniture, a crackling fire which was always burning in the grate to welcome the visitor to their lodgings, and, in Harry's case, a talking mirror.
            </p>
        </div>
    </div>

    <script>
        // Leaky.html JavaScript Content
        function a() {
            var paragraph = document.getElementById("leaky-paragraph");
            paragraph.classList.add("show");
        }

        var interval = setInterval(a, 1000);
    </script>

    <!-- Menu.html Content -->
    <div class="header">
        <div class="menu-heading">
            <h1>Menu</h1>
        </div>
    </div>

    <div id="root"></div>
    <div id="totalOrderAmount"></div>

    <script type="text/babel">
        // Menu.html JavaScript Content
        const images = [
            { id: 1, name: 'Soup', price: '$8', description: 'Delicious soup made with fresh ingredients.', url: 'soup.png' },
            { id: 2, name: 'Fish & Chips', price: '$5', description: 'Crispy fish fillets with golden fries.', url: 'fish.jpg' },
            { id: 3, name: 'Desserts', price: '$7', description: 'A variety of sweet treats to satisfy your cravings.', url: 'desserts.jpg' },
            { id: 4, name: 'Beverages', price: '$3', description: 'Refreshing drinks to quench your thirst.', url: 'beverage.jpg' },
            { id: 5, name: 'Burger', price: '$4', description: 'Juicy burger with all the fixings.', url: 'burger.jpg' },
            { id: 6, name: 'Salad', price: '$5.5', description: 'Fresh and healthy salad options.', url: 'salad.jpg' },
            { id: 7, name: 'Egg Parmesan', price: '$10', description: 'Savory egg dish with Parmesan cheese.', url: 'egg.jpg' },
            { id: 8, name: 'Spring Rolls', price: '$8', description: 'Delightful spring rolls with dipping sauce.', url: 'rolls.jpg' },
            { id: 9, name: 'Sandwich', price: '$3.5', description: 'Classic and satisfying sandwich choices.', url: 'sandwich.jpg' },
        ];

        class ImageGallery extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    selectedItems: [], // Array to store selected items and quantities
                    totalOrderPrice: 0,
                };

                // Bind the method to the class instance
                this.submitOrder = this.submitOrder.bind(this);
            }

            // Function to handle form submission
            submitOrder(event) {
                event.preventDefault();

                // Get the form elements
                const formElements = event.target.elements;

                // Get the food ID and quantity
                const foodId = parseInt(formElements['foodId'].value);
                const quantity = parseInt(formElements['quantity'].value);

                // Find the corresponding food item in the images array
                const selectedFood = images.find((food) => food.id === foodId);

                // Calculate the total order price for the current item
                const itemTotalPrice = quantity * parseFloat(selectedFood.price.replace('$', ''));

                // Add the selected item and quantity to the array
                const selectedItem = {
                    id: foodId,
                    name: selectedFood.name,
                    quantity: quantity,
                    price: itemTotalPrice,
                };

                const updatedSelectedItems = [...this.state.selectedItems, selectedItem];

                // Calculate the total order price for all selected items
                const totalOrderPrice = updatedSelectedItems.reduce((total, item) => total + item.price, 0);

                // Set the selectedItems and totalOrderPrice in the state
                this.setState({
                    selectedItems: updatedSelectedItems,
                    totalOrderPrice: totalOrderPrice,
                });
            }

            render() {
                return (
                    <div>
                        <div className="image-row">
                            {images.map((image) => (
                                <div key={image.id} className="image-item">
                                    <img
                                        src={image.url}
                                        alt={`Image ${image.id}`}
                                        className="image"
                                    />
                                    <div className="food-item">{`#${image.id} ${image.name}`}</div>
                                    <div className="price">{`Price: ${image.price}`}</div>
                                    <div className="description">{`${image.description}`}</div>
                                </div>
                            ))}
                        </div>

                        {/* Display total order amount */}
                        <div id="totalOrderAmount">
                            <p style={{ fontSize: '50px' }}>Your total order amount is: ${this.state.totalOrderPrice}</p>

                        </div>

                        {/* Order form */}
                        <form onSubmit={this.submitOrder} className="order-form">
                            <label style={{ fontSize: '50px' }}htmlFor="foodId">Food ID:</label>
                            <input type="number" id="foodId" name="foodId" min="1" required />
                            <label style={{ fontSize: '50px' }}htmlFor="quantity">Quantity:</label>
                            <input type="number" id="quantity" name="quantity" min="0" required />
                            <button type="submit">Submit Order</button>
                        </form>

                        <button onClick={() => this.showOrderForm()}>ORDER</button>
                    </div>
                );
            }

            // ...

// Function to handle form submission and API call
submitOrderAPI(event) {
    event.preventDefault();
  
    // Get the form elements
    const formElements = event.target.elements;
  
    // Get the food ID and quantity
    const foodId = parseInt(formElements['foodId'].value);
    const quantity = parseInt(formElements['quantity'].value);
  
    // Make API call to submit the order
    fetch(`http://localhost:3001/api/order`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ foodId, quantity }),
    })
      .then((response) => response.json())
      .then((data) => {
        console.log(data.message);
        // Optionally, you can update the state or display a success message
      })
      .catch((error) => {
        console.error('Error:', error);
        // Optionally, you can update the state or display an error message
      });
  }
  
   

            // Function to show the order form
            showOrderForm() {
                const orderForm = document.querySelector('.order-form');
                orderForm.style.display = 'flex';
            }
        }

        ReactDOM.render(<ImageGallery />, document.getElementById('root'));
    </script>
</body>

</html>
